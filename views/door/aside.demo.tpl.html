<!--<div class="aside">-->
<div class="content-head">
  <i class="pull-left fa fa-chevron-left m-r-sm m-t-xs"
     style="cursor: pointer;margin-top: 20px"
     ng-if="createVm.householdStep == 2"
     ng-click="createVm.back()">
  </i>
  <div class="text-center text-md">添加住户</div>
</div>

<form class="w-content-main clearfix"
      name="houseForm"
      novalidate>
  <div ng-if="createVm.householdStep == 1">
    <div class="other-info pos-relative p-h-md" style="padding-top: 15px;">
      <div class="row pos-relative">
        <label class="w-label-control other-label">身份证号:</label>
        <input type="text"
               ng-model="createVm.postList.idCard"
               class="w-sm p-h-xs m-r-xs pull-left w-form-control"
               style="width: 290px;"
               name="idCard"
               required>
        <button class="btn btn-primary btn-stroke btn-sm"
                ng-class="{'btn-success': createVm.idCardCheck == 1, 'btn-danger': createVm.idCardCheck == 2}"
                ng-click="createVm.getCardInfo(createVm.postList.idCard)"
                style="padding-left: 30px; padding-right: 30px">人证查询
        </button>

      </div>
      <div class="row pos-relative m-b-xs form-box-error">
        <label class="w-label-control other-label"></label>
        <div ng-if="houseForm.idCard.$dirty||houseForm.submitted">
            <span class="form-error" ng-show="houseForm.idCard.$error.required">
              身份证号不能为空
            </span>
            <span class="form-error"
                  ng-show="!houseForm.idCard.$error.required&&houseForm.identityCardCheck&&createVm.postList.idCard!=createVm.idCardList.identityNum">
              身份证号不匹配
            </span>
        </div>
      </div>
    </div>
    <div class="id-card-box">
      <div class="id-card p-v-sm p-h-md pos-relative">
        <div class="card-info" ng-if="createVm.idCardList">
          <div class="other-info pos-relative b-b">
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">姓&nbsp;名:</label>
              <label class="w-label-control">{{createVm.idCardList.customerName}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">姓&nbsp;别:</label>
              <label class="w-label-control">{{createVm.idCardList.sex}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">出&nbsp;生:</label>
              <label class="w-label-control">1999 <b>年</b> 08 <b>月</b> 28 <b>日</b></label>
            </div>
            <div class="row pos-relative m-b-xs">
              <label class="w-label-control id-card-label">地&nbsp;址:</label>
              <label class="w-label-control id-card-address">{{createVm.idCardList.address}}</label>
            </div>
            <div class="photo-collection text-center">
              <div class="m-b-xs photo-box">
                <img width="88" height="118" ng-src="{{createVm.idCardList.idenImage}}" alt="">
                <div class="text-sm">身份证照</div>
              </div>
            </div>
          </div>
          <div class="other-info pos-relative">
            <div class="row pos-relative m-t-sm">
              <label class="w-label-control other-label">身份证号:</label>
              <label class="w-label-control">{{createVm.idCardList.identityNum}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control other-label">签发机关:</label>
              <label class="w-label-control">{{createVm.idCardList.issuingOrgan}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control other-label">有效日期:</label>
              <label class="w-label-control">{{createVm.idCardList.indate}}</label>
            </div>
            <div class="photo-collection text-center">
              <div class="m-b-xs photo-box">
                <img width="88" height="118" ng-src="{{createVm.idCardList.faceImage}}" alt="">
                <div class="text-sm">人脸采集</div>
              </div>
            </div>
          </div>
        </div>
        <div class="no-card-info" ng-if="!createVm.idCardList">
          <div class="m-b-xs" style="width: 120px; height: 80px; background-color: #000"></div>
          <div class="text-sm">身份信息展示区域</div>
        </div>
      </div>
    </div>
    <div class="other-info pos-relative p-md">
      <div class="row pos-relative">
        <label class="w-label-control other-label">手机号码:</label>
        <input type="text"
               ng-model="createVm.postList.mobile"
               class="w-sm p-h-xs m-r-md pull-left w-form-control"
               style="width: 230px;"
               ng-pattern="/(^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$)|(^((\(\d{3}\))|(\d{3}\-))?(1[3578]\d{9})$)/"
               name="mobile"
               required>

      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div ng-if="houseForm.mobile.$dirty||houseForm.submitted">
          <span class="form-error" ng-show="houseForm.mobile.$error.required">
            手机号码不能为空
          </span>
          <span class="form-error" ng-show="houseForm.mobile.$error.pattern">
            手机号码格式不正确
          </span>
        </div>
      </div>

      <div class="row pos-relative">
        <label class="w-label-control other-label">住户身份:</label>
        <div class="w-sm pull-left m-r-lg">
          <select ui-select2
                  ng-model="createVm.postList.userType"
                  data-placeholder="请选择住户身份"
                  name="userType"
                  ng-change="createVm.userType_change_to_effectiveTime(createVm.postList.userType)">
            <option value=""></option>
            <option ng-value="0">户主</option>
            <option ng-value="1">家人</option>
            <option ng-value="2">租客</option>
          </select>
        </div>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
      </div>

      <div class="row pos-relative">
        <label class="w-label-control other-label">住户房号:</label>
        <my-cascade-check partition-id="createVm.postList.partitionId"
                          block-id="createVm.postList.blockId"
                          unit-id="createVm.postList.unitId"
                          room-id="createVm.postList.roomNoId"
                          get-blocks="createVm.getBlocks(partitionId)"
                          get-units="createVm.getUnits(blockId)"
                          get-rooms="createVm.getRooms(unitId)"
                          check-entrance-exist="createVm.checkEntranceExist(partitionId)"
                          partitions="createVm.block.partitions"
                          blocks="createVm.block.blocks"
                          units="createVm.block.units"
                          rooms="createVm.block.rooms">
        </my-cascade-check>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div ng-if="houseForm.fanghao.$dirty||houseForm.submitted">
          <span class="form-error" ng-show="houseForm.fanghao.$error.required">
            房号不能为空
          </span>
        </div>
      </div>

      <div class="row pos-relative m-b-xs"
           ng-if="createVm.isEntranceExist">
        <label class="w-label-control other-label">有效时间:</label>
        <div class="pull-left m-r-lg" style="line-height: 27px">
          <label class="ui-checks" ng-if="createVm.userEffectStatus == 0 || createVm.userEffectStatus == 1">
            <input type="radio" name="a"
                   ng-model="createVm.postList.effectiveType"
                   ng-value="0"
                   ng-click="createVm.radio_change()"
                   ng-checked="createVm.userType_make_me">
            <i></i>
            永久
          </label>
          <label class="ui-checks m-l-xs" ng-if="createVm.userEffectStatus == 2 || createVm.userEffectStatus == 1">
            <input type="radio" name="a"
                   ng-value="1"
                   ng-model="createVm.postList.effectiveType"
                   ng-click="createVm.radio_change()"
                   ng-checked="!createVm.userType_make_me">
            <i></i>
            手动配置
          </label>
        </div>
      </div>
      <div class="row pos-relative" ng-if="createVm.isEntranceExist">
        <label class="w-label-control other-label"></label>
        <div class="pull-left"
             ng-if="(createVm.userEffectStatus == 2 || createVm.userEffectStatus == 1)&&!createVm.userType_make_me">
          <input type="text"
                 ng-model="createVm.postList.effectiveStartTime"
                 class="form-control w-sm pull-left m-r-xs bg-date"
                 data-date-format="yyyy-MM-dd"
                 data-date-type="number"
                 data-min-date="today"
                 data-autoclose="1"
                 bs-datepicker
                 required
                 placeholder="请选择起始时间"
                 name="effectiveStartTime"
          />
          <label class="pull-left datepicker-split">—</label>
          <input type="text"
                 ng-model="createVm.postList.effectiveEndTime"
                 class="form-control w-sm pull-left m-r-lg bg-date"
                 data-date-format="yyyy-MM-dd"
                 data-date-type="number"
                 data-min-date="{{createVm.postList.effectiveStartTime}}"
                 data-autoclose="1"
                 bs-datepicker
                 required
                 name="effectiveEndTime"
                 placeholder="请选择结束时间"
          />
        </div>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div class="m-b-sm" style="bottom: -30px"
             ng-if="houseForm.effectiveStartTime.$dirty||houseForm.effectiveEndTime.$dirty||houseForm.submitted">
          <span class="form-error"
                ng-show="houseForm.effectiveStartTime.$error.required||houseForm.effectiveEndTime.$error.required">
            有效时间不能为空
          </span>
        </div>
      </div>

    </div>
    <div class="row m-b-md text-center">
      <button class="btn btn-sm btn-primary p-h-lg m-r-sm"
              ng-click="createVm.createResident(createVm.postList)">
        保&nbsp;存
      </button>
      <button class="btn btn-sm btn-primary btn-stroke p-h-lg"
              ng-click="createVm.cancel()">
        取&nbsp;消
      </button>
    </div>
  </div>
  <div ng-if="createVm.householdStep == 2">
    读取卡号
  </div>

</form>


<!--</div>-->
<style>
  .content-head {
    height: 50px;
    line-height: 50px;
    -webkit-border-radius: 0;
    -moz-border-radius: 0;
    border-radius: 0;
  }

  .id-card-box {
    background-color: #F0F6FF;
    padding: 30px 60px;
  }

  .id-card {
    background: #ffffff;
    min-height: 300px;
    border-radius: 5px;
    -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175)
  }

  .id-card-label {
    width: 35px;
  }

  .other-label {
    width: 65px;
  }

  .id-card-address {
    width: 240px;
    text-align: left
  }

  .id-card-photo {
    position: absolute;
    top: 0;
    right: 0;
  }

  .id-card-photo > div {
    width: 88px;
    height: 118px;
    background-color: #000;
  }

  .photo-collection {
    position: absolute;
    top: 0;
    right: 0px;
  }

  .photo-box {
    width: 108px;
    height: 118px;
    background-color: #fff;
    display: flex;
    align-items: center;
  }

  .photo-box > img {
    float: left;
  }

  .photo-box > div {
    margin-left: 7px;
    width: 13px;
    float: left;
  }

  .form-error-box {
    position: absolute;
    bottom: -20px;
    left: 74px;
    font-size: 12px;
  }

  .no-card-info {
    height: 280px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .pos-relative {
    position: relative;
  }
</style>