<div class="content-head">
  <div class="text-center text-md">
    详情
    <i class="pull-right fa fa-remove fa-2x m-r-sm m-t-xs"
       style="cursor: pointer; margin-top: 8px;"
       ng-click="editVm.cancel()">
    </i>
  </div>

</div>

<form class="w-content-main clearfix"
      name="houseForm"
      novalidate>
  <div ng-if="editVm.householdStep == 1">
    <div class="id-card-box">
      <div class="id-card p-v-sm p-h-md pos-relative">
        <div class="card-info" ng-if="editVm.idCardList">
          <div class="other-info pos-relative b-b">
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">姓&nbsp;名:</label>
              <label class="w-label-control">{{editVm.idCardList.customerName}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">姓&nbsp;别:</label>
              <label class="w-label-control">{{editVm.idCardList.sex}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control id-card-label">出&nbsp;生:</label>
              <label class="w-label-control">{{editVm.idCardList.birthDate}}</label>
            </div>
            <div class="row pos-relative m-b-xs">
              <label class="w-label-control id-card-label">地&nbsp;址:</label>
              <label class="w-label-control id-card-address">{{editVm.idCardList.address}}</label>
            </div>
            <div class="photo-collection text-center">
              <div class="m-b-xs photo-box">
                <img width="88" height="118" ng-src="{{editVm.idCardList.idenImage}}" alt="">
                <div class="text-sm">身份证照</div>
              </div>
            </div>
          </div>
          <div class="other-info pos-relative">
            <div class="row pos-relative m-t-sm">
              <label class="w-label-control other-label">身份证号:</label>
              <label class="w-label-control">{{editVm.idCardList.identityNum}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control other-label">签发机关:</label>
              <label class="w-label-control">{{editVm.idCardList.issuingOrgan}}</label>
            </div>
            <div class="row pos-relative">
              <label class="w-label-control other-label">有效日期:</label>
              <label class="w-label-control">{{editVm.idCardList.indate}}</label>
            </div>
            <div class="photo-collection text-center">
              <div class="m-b-xs photo-box">
                <img width="88" height="118" ng-src="{{editVm.idCardList.faceImage}}" alt="">
                <div class="text-sm">人脸采集</div>
              </div>
            </div>
          </div>
        </div>
        <div class="no-card-info" ng-if="!editVm.idCardList">
          <div class="m-b-xs" style="width: 120px; height: 80px;">
            <img src="images/icon_idcard_noshadow.png" alt="">
          </div>
          <div class="text-sm m-t-md" style="color: #A9C7F7; font-size: 14px">身份信息展示区域</div>
        </div>
      </div>
    </div>
    <div class="other-info pos-relative p-md">
      <div class="row pos-relative">
        <label class="w-label-control other-label">手机号码:</label>
        <input type="text"
               ng-model="editVm.postList.mobile"
               class="w-sm p-h-xs m-r-md pull-left w-form-control"
               style="width: 230px;"
               ng-pattern="/(^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$)|(^((\(\d{3}\))|(\d{3}\-))?(1[3578]\d{9})$)/"
               disabled
               name="mobile"
               required>

      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div ng-if="houseForm.mobile.$dirty||houseForm.submitted">
          <span class="form-error" ng-show="houseForm.mobile.$error.required">
            手机号码不能为空
          </span>
          <span class="form-error" ng-show="houseForm.mobile.$error.pattern">
            手机号码格式不正确
          </span>
        </div>
      </div>

      <div class="row pos-relative">
        <label class="w-label-control other-label">住户身份:</label>
        <div class="w-sm pull-left m-r-lg">
          <select ui-select2
                  ng-model="editVm.postList.userType"
                  data-placeholder="请选择住户身份"
                  name="userType"
                  disabled
                  ng-change="editVm.userType_change_to_effectiveTime(editVm.postList.userType)">
            <option value=""></option>
            <option ng-value="0">户主</option>
            <option ng-value="1">家人</option>
            <option ng-value="2">租客</option>
          </select>
        </div>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
      </div>

      <div class="row pos-relative">
        <label class="w-label-control other-label">住户房号:</label>
        <div class="pull-left w-sm m-r-sm">
          <select ui-select2
                  ng-model="editVm.postList.partitionId"
                  data-placeholder="请选择住户身份"
                  disabled
                  name="partitionName">
            <option value=""></option>
            <option ng-value="editVm.postList.partitionId">
              {{editVm.postList.partitionName}}
            </option>
          </select>
        </div>
        <div class="pull-left w-xs m-r-sm">
          <select ui-select2
                  ng-model="editVm.postList.blockId"
                  data-placeholder="请选择住户身份"
                  disabled
                  name="blockName">
            <option value=""></option>
            <option ng-value="editVm.postList.blockId">
              {{editVm.postList.blockName}}
            </option>
          </select>
        </div>
        <div class="pull-left w-xs m-r-sm">
          <select ui-select2
                  ng-model="editVm.postList.unitId"
                  data-placeholder="请选择住户身份"
                  disabled
                  name="unitName">
            <option value=""></option>
            <option ng-value="editVm.postList.unitId">
              {{editVm.postList.unitName}}
            </option>
          </select>
        </div>
        <div class="pull-left w-xs m-r-sm">
          <select ui-select2
                  ng-model="editVm.postList.roomNoId"
                  data-placeholder="请选择住户身份"
                  disabled
                  name="roomNo">
            <option value=""></option>
            <option ng-value="editVm.postList.roomNoId">
              {{editVm.postList.roomNo}}
            </option>
          </select></div>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div ng-if="houseForm.fanghao.$dirty||houseForm.submitted">
          <span class="form-error" ng-show="houseForm.fanghao.$error.required">
            房号不能为空
          </span>
        </div>
      </div>

      <div class="row pos-relative m-b-xs">
        <label class="w-label-control other-label">有效时间:</label>
        <div class="pull-left m-r-lg" style="line-height: 27px">
          <label class="ui-checks" ng-if="editVm.userEffectStatus == 0 || editVm.userEffectStatus == 1">
            <input type="radio" name="a"
                   ng-model="editVm.postList.effectiveType"
                   ng-value="0"
                   ng-click="editVm.radio_change()"
                   ng-checked="editVm.userType_make_me">
            <i></i>
            永久
          </label>
          <label class="ui-checks m-l-xs" ng-if="editVm.userEffectStatus == 2 || editVm.userEffectStatus == 1">
            <input type="radio" name="a"
                   ng-value="1"
                   ng-model="editVm.postList.effectiveType"
                   ng-click="editVm.radio_change()"
                   ng-checked="!editVm.userType_make_me">
            <i></i>
            手动配置
          </label>
        </div>
      </div>
      <div class="row pos-relative" ng-if="editVm.isEntranceExist">
        <label class="w-label-control other-label"></label>
        <div class="pull-left"
             ng-if="(editVm.userEffectStatus == 2 || editVm.userEffectStatus == 1)&&!editVm.userType_make_me">
          <input type="text"
                 ng-model="editVm.postList.effectiveStartTime"
                 class="form-control w-sm pull-left m-r-xs bg-date"
                 data-date-format="yyyy-MM-dd"
                 data-date-type="number"
                 data-min-date="today"
                 data-autoclose="1"
                 bs-datepicker
                 required
                 placeholder="请选择起始时间"
                 name="effectiveStartTime"
          />
          <label class="pull-left datepicker-split">—</label>
          <input type="text"
                 ng-model="editVm.postList.effectiveEndTime"
                 class="form-control w-sm pull-left m-r-lg bg-date"
                 data-date-format="yyyy-MM-dd"
                 data-date-type="number"
                 data-min-date="{{editVm.postList.effectiveStartTime}}"
                 data-autoclose="1"
                 bs-datepicker
                 required
                 name="effectiveEndTime"
                 placeholder="请选择结束时间"
          />
        </div>
      </div>
      <div class="row m-b-xs pos-relative form-box-error">
        <label class="w-label-control other-label"></label>
        <div class="m-b-sm" style="bottom: -30px"
             ng-if="houseForm.effectiveStartTime.$dirty||houseForm.effectiveEndTime.$dirty||houseForm.submitted">
          <span class="form-error"
                ng-show="houseForm.effectiveStartTime.$error.required||houseForm.effectiveEndTime.$error.required">
            有效时间不能为空
          </span>
        </div>
      </div>

    </div>
    <div class="row m-b-md text-center">
      <button class="btn btn-sm btn-primary p-h-lg m-r-sm"
              ng-click="editVm.createResident(editVm.postList)">
        保&nbsp;存
      </button>
      <button class="btn btn-sm btn-primary btn-stroke p-h-lg"
              ng-click="editVm.cancel()">
        取&nbsp;消
      </button>
    </div>
  </div>
  <div ng-if="editVm.householdStep == 2">
    <div class="id-card-box">
      <div class="id-card p-lg pos-relative" style="min-height: 0">
        <div class="card-info">
          <h4 class="no-margin m-b-sm">{{editVm.idCardList.customerName}}</h4>
          <div class="m-b-sm">房间地址: <span class="m-l-xs">分区一1幢1单元302</span></div>
          <div>有效期限: <span class="m-l-xs">永久</span></div>
        </div>
      </div>
    </div>
    <div class="other-info">读卡功能正在开发中...</div>
  </div>

</form>


<!--</div>-->
<style>
  .modal-dialog{
    width: 650px;
  }
  .content-head {
    height: 50px;
    line-height: 50px;
    -webkit-border-radius: 0;
    -moz-border-radius: 0;
    border-radius: 0;
    width: 100%;
  }

  .id-card-box {
    background-color: #F0F6FF;
    padding: 30px 60px;
  }

  .id-card {
    background: #ffffff;
    min-height: 300px;
    border-radius: 5px;
    -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175)
  }

  .id-card-label {
    width: 35px;
  }

  .other-label {
    width: 65px;
  }

  .id-card-address {
    width: 240px;
    text-align: left
  }

  .id-card-photo {
    position: absolute;
    top: 0;
    right: 0;
  }

  .id-card-photo > div {
    width: 88px;
    height: 118px;
    background-color: #000;
  }

  .photo-collection {
    position: absolute;
    top: 0;
    right: 0px;
  }

  .photo-box {
    width: 108px;
    height: 118px;
    background-color: #fff;
    display: flex;
    align-items: center;
  }

  .photo-box > img {
    float: left;
  }

  .photo-box > div {
    margin-left: 7px;
    width: 13px;
    float: left;
  }

  .form-error-box {
    position: absolute;
    bottom: -20px;
    left: 74px;
    font-size: 12px;
  }

  .no-card-info {
    height: 280px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .pos-relative {
    position: relative;
  }
</style>