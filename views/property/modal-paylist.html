<div class="content-head">
  收费标准
  <i class="pull-right fa fa-remove fa-2x m-r-sm m-t-xs"
     style="cursor: pointer"
     ng-click="payVm.cancel()">
  </i>
</div>
<form class="w-content-main p-detail-form clearfix"
      name="payListForm" novalidate>
  <div class="list-info">
    <ul>
      <li class="b-b p-v-sm" ng-repeat="item in payVm.standardList">
        <div class="row m-b-xs">
          <span class="name">{{item.name}}</span>
          <span class="price">¥{{item.price}}</span>
          <span class="delete pull-right"><a href="javascript:;" ng-click="payVm.deleteStandard(item.id)">删除</a></span>
        </div>
        <div class="row word-break">
          <span>{{item.remark}}</span>
        </div>
      </li>
    </ul>
  </div>
  <div class="create-info">
    <div class="row position-rel"
         ng-class="{true: 'm-b-lg', false: 'm-b-md'}[!payListForm.name.$valid&& (payListForm.name.$dirty || payListForm.submitted)]">
      <label class="w-label-control" style="width: 60px;">服务项目:</label>
      <div class="pull-left m-r-lg">
        <input type="text"
               ng-maxlength="20"
               class="w-lg p-h-xs m-r-xs w-form-control"
               ng-model="payVm.model.name"
               name="name"
               required
        >
      </div>
      <div class="error-box"
           ng-if="payListForm.name.$dirty||payListForm.submitted">
        <span class="form-error" ng-show="payListForm.name.$error.required">
          服务项目名称不能为空
        </span>
        <span class="form-error" ng-show="payListForm.name.$error.maxlength">
          服务项目名称不能超过20个字符
        </span>
      </div>
    </div>

    <div class="row position-rel"
         ng-class="{true: 'm-b-lg', false: 'm-b-md'}[!payListForm.price.$valid&& (payListForm.price.$dirty || payListForm.submitted)]">
      <label class="w-label-control" style="width: 60px;">收费标准:</label>
      <div class="pull-left m-r-lg">
        <input type="text"
               ng-pattern="/^[0-9]+([.]{1}[0-9]+){0,1}$/"
               ng-maxlength="10"
               class="w-sm p-h-xs m-r-xs w-form-control"
               ng-model="payVm.model.price"
               name="price"
               required
        >元
      </div>
      <div class="error-box"
           ng-if="payListForm.price.$dirty||payListForm.submitted">
        <span class="form-error" ng-show="payListForm.price.$error.required">
          收费标准不能为空
        </span>
        <span class="form-error" ng-show="payListForm.price.$error.pattern">
          收费标准必须为数字
        </span>
        <span class="form-error" ng-show="payListForm.price.$error.maxlength">
          收费标准不能大于10位
        </span>
      </div>
    </div>

    <div class="row m-b-md position-rel">
      <label class="w-label-control" style="width: 60px;">备注:</label>
      <div class="pull-left m-r-lg">
        <textarea class="w-xxl p-h-xs m-r-xs w-form-control"
                  ng-model="payVm.model.remark"
                  ng-maxlength="100"
                  name="remark">
        </textarea>
      </div>
      <div class="error-box"
           ng-if="payListForm.remark.$dirty||payListForm.submitted">
        <span class="form-error" ng-show="payListForm.remark.$error.maxlength">
          备注不能超过100个字符
        </span>
      </div>
    </div>

    <div class="row text-center m-t-sm">
      <button class="btn btn-sm btn-primary p-h-lg" ng-click="payVm.createStandard(payVm.model)">
        保&nbsp;存
      </button>
    </div>
  </div>
</form>

<style>
  .error-box{
    position: absolute;
    bottom: -20px;
    left: 72px;
    font-size: 12px;
  }
</style>